<!DOCTYPE html>
<html lang="en">
<head>
    <script>(function(s){s.dataset.zone='10385433',s.src='https://gizokraijaw.net/vignette.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>



<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Purple Premium Unlock</title>

<!-- Telegram SDK -->
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<!-- Ads -->
<script src='//libtl.com/sdk.js' data-zone='10196888' data-sdk='show_10196888'></script>
<script src='//libtl.com/sdk.js' data-zone='10196888' data-sdk='show_10196888'></script>
<script src='//libtl.com/sdk.js' data-zone='10363864' data-sdk='show_10363864'></script>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    font-family:'Poppins',sans-serif;
    background:radial-gradient(circle at top,#2a004f,#090013);
    color:#fff;
}
.container{
    max-width:420px;
    margin:auto;
    padding:80px 14px 40px;
}
.title{
    text-align:center;
    font-family:'Montserrat',sans-serif;
    font-size:22px;
    font-weight:800;
    background:linear-gradient(90deg,#c084fc,#a855f7);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    margin-bottom:8px;
}
.sub{
    text-align:center;
    font-size:13px;
    color:#d8b4fe;
    margin-bottom:20px;
}
.card{
    background:linear-gradient(160deg,#160028,#05000d);
    border-radius:22px;
    padding:26px;
    border:1px solid rgba(192,132,252,0.35);
    box-shadow:0 0 45px rgba(168,85,247,0.25);
}
h2{
    text-align:center;
    margin-top:0;
    font-size:18px;
    background:linear-gradient(90deg,#c084fc,#a855f7);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
}
.step{
    font-size:14px;
    margin:6px 0;
    color:#e9d5ff;
}
button{
    width:100%;
    padding:15px;
    margin-top:14px;
    border:none;
    border-radius:16px;
    font-size:16px;
    font-weight:600;
    cursor:pointer;
    transition:.25s;
}
.watch{
    background:linear-gradient(135deg,#c084fc,#9333ea);
    color:#160028;
}
.watch:disabled{
    background:#2a003f;
    color:#777;
    cursor:not-allowed;
}
.done{
    background:linear-gradient(135deg,#22c55e,#2dd4bf);
    color:#06211b;
}
.locked{
    background:#1b1025;
    color:#666;
}
.status{
    text-align:center;
    margin-top:10px;
    font-size:13px;
    color:#e9d5ff;
}
.footer{
    text-align:center;
    font-size:11px;
    margin-top:24px;
    color:#c084fc;
}
</style>
</head>

<body>
<div class="container">

<div class="title">Premium Unlock</div>
<div class="sub">Watch ads to unlock private videos</div>

<div class="card">
<h2>Steps</h2>

<div class="step">â€¢ Watch Ad 1 (10 sec)</div>
<div class="step">â€¢ Watch Ad 2 (10 sec)</div>
<div class="step">â€¢ Watch Ad 3 (10 sec)</div>

<button id="b1" class="watch" onclick="watchAd(1)">Watch Ad 1</button>
<div id="t1" class="status"></div>

<button id="b2" class="watch" onclick="watchAd(2)" disabled>Watch Ad 2</button>
<div id="t2" class="status"></div>

<button id="b3" class="watch" onclick="watchAd(3)" disabled>Watch Ad 3</button>
<div id="t3" class="status"></div>

<div id="prog" class="status">Progress: 0 / 3</div>

<button id="final" class="locked" disabled>ðŸ”’ Unlock Content</button>
</div>

<div class="footer">Â© ContentUnlockerBot</div>
</div>

<script>
Telegram.WebApp.ready();

/* âœ… FIXED PARAM HANDLING */
const param =
    Telegram.WebApp.initDataUnsafe?.start_param ||
    new URLSearchParams(window.location.search).get("start");

if(!param){
    alert("Invalid or expired link");
    Telegram.WebApp.close();
}

let completed = 0;
let busy = false;

const ads = {
    1:"show_10196888",
    2:"show_10196888",
    3:"show_10363864"
};

function watchAd(i){
    if(busy) return;
    busy = true;

    const btn = document.getElementById("b"+i);
    const txt = document.getElementById("t"+i);
    btn.disabled = true;

    let sec = 10;
    txt.innerText = "Watching ad: "+sec+"s";
    const timer = setInterval(()=>{
        sec--;
        txt.innerText = "Watching ad: "+sec+"s";
        if(sec<=0) clearInterval(timer);
    },1000);

    window[ads[i]]().then(()=>{
        completed++;
        btn.className="done";
        btn.innerText="Completed âœ…";
        document.getElementById("prog").innerText=`Progress: ${completed} / 3`;

        if(i<3) document.getElementById("b"+(i+1)).disabled=false;

        if(completed===3){
            const f=document.getElementById("final");
            f.disabled=false;
            f.className="done";
            f.innerText="ðŸ”— Get Videos";
            f.onclick=()=>{
                Telegram.WebApp.openTelegramLink(
                    `https://t.me/ContentUnlockerBot?start=${param}_done`
                );
                Telegram.WebApp.close();
            };
        }
        busy=false;
    }).catch(()=>{
        busy=false;
        btn.disabled=false;
        txt.innerText="";
    });
}
</script>

</body>
</html>
